System.register("chunks:///_virtual/gameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,o,r,i,a,l,c,s,u,d,p,g,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,l=e.Label,c=e.CylinderCollider,s=e.Node,u=e.RigidBody,d=e.ColliderComponent,p=e.tween,g=e.Vec3,h=e.Component}],execute:function(){var b,f,m,y,C,w,v,M,D;i._RF.push({},"a472aoqhk9MOr6ulK7AjaAx","gameManager",void 0);var L=a.ccclass,O=a.property;e("gameManager",(b=L("gameManager"),f=O(l),m=O(c),y=O(s),b((v=t((w=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,o(t,"scoreLabel",v,r(t)),o(t,"DropZoneCollider",M,r(t)),o(t,"audioManager",D,r(t)),t.score=0,t.isLeftOccupied=!1,t.currentDroppedObject=null,t}n(t,e);var i=t.prototype;return i.start=function(){this.score=0,this.DropZoneCollider.on("onCollisionEnter",this.onCollisionEnter,this)},i.onCollisionEnter=function(e){var t=this,n=e.otherCollider.node;console.log(n.name),this.isLeftOccupied?this.currentDroppedObject==n||(this.currentDroppedObject.name==n.name&&this.currentDroppedObject!=n?(this.isLeftOccupied=!1,n.getComponent(u).enabled=!1,n.getComponent(d).enabled=!1,p(n).to(.1,{eulerAngles:new g(0,0,0),worldPosition:new g(2,3,-10)}).delay(.5).call((function(){p(n).to(.1,{worldPosition:new g(0,3,-10),scale:new g(0,0,0)}).start(),p(t.currentDroppedObject).to(.1,{worldPosition:new g(0,3,-10),scale:new g(0,0,0)}).start()})).delay(.1).call((function(){t.audioManager.getChildByName("correct").active=!1,t.audioManager.getChildByName("correct").active=!0,n.destroy(),t.currentDroppedObject.destroy(),t.updateScoreLabel()})).start()):(this.audioManager.getChildByName("wrong").active=!1,this.audioManager.getChildByName("wrong").active=!0,p(n).to(.1,{worldPosition:new g(0,5,0)}).start())):(this.isLeftOccupied=!0,this.currentDroppedObject=n,n.getComponent(u).enabled=!1,n.getComponent(d).enabled=!1,p(n).to(.1,{eulerAngles:new g(0,0,0),worldPosition:new g(-2.5,3,-10)}).call((function(){t.audioManager.getChildByName("pick").active=!1,t.audioManager.getChildByName("pick").active=!0})).start())},i.updateScoreLabel=function(){var e=this;this.schedule((function(){e.score+=1,e.scoreLabel.string=e.score.toString()}),.05,9,0)},i.update=function(e){},t}(h)).prototype,"scoreLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(w.prototype,"DropZoneCollider",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(w.prototype,"audioManager",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=w))||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./RayCast.ts","./gameManager.ts"],(function(){return{setters:[null,null],execute:function(){}}}));

System.register("chunks:///_virtual/RayCast.ts",["./rollupPluginModLoBabelHelpers.js","cc","./gameManager.ts"],(function(e){var t,n,o,a,i,r,c,s,l,d,h,u,p,g,y,m,f,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,r=e._decorator,c=e.Camera,s=e.Node,l=e.input,d=e.Input,h=e.PhysicsSystem,u=e.tween,p=e.Vec3,g=e.RigidBody,y=e.ColliderComponent,m=e.geometry,f=e.Component},function(e){T=e.gameManager}],execute:function(){var C,v,b,E,M,N,_,O,R;i._RF.push({},"dbf18WevphIjr4rgmGPD1kF","RayCast",void 0);var D=r.ccclass,P=r.property;e("RayCast",(C=D("RayCast"),v=P(c),b=P(s),E=P(T),C((_=t((N=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i))||this,o(t,"cameraCom",_,a(t)),o(t,"audioManager",O,a(t)),o(t,"gameManager",R,a(t)),t.justDroppedNode=null,t.selectedNode=null,t._ray=new m.Ray,t}n(t,e);var i=t.prototype;return i.onEnable=function(){l.on(d.EventType.TOUCH_START,this.onTouchStart,this),l.on(d.EventType.TOUCH_MOVE,this.onTouchMove,this),l.on(d.EventType.TOUCH_END,this.onTouchEnd,this),l.on(d.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},i.onDisable=function(){l.off(d.EventType.TOUCH_START,this.onTouchStart,this),l.off(d.EventType.TOUCH_MOVE,this.onTouchMove,this),l.off(d.EventType.TOUCH_END,this.onTouchEnd,this),l.off(d.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},i.onTouchStart=function(e){var t=this,n=e.touch;if(this.cameraCom.screenPointToRay(n.getLocationX(),n.getLocationY(),this._ray),h.instance.raycast(this._ray)&&null==this.selectedNode)for(var o=h.instance.raycastResults,a=0;a<o.length;a++){var i=o[a];if("Plane"!=i.collider.node.name&&"Cylinder"!=i.collider.node.name&&"outline"!=i.collider.node.name){console.log("raycast hit the target node !"),this.selectedNode=i.collider.node,this.audioManager.getChildByName("pick").active=!1,this.audioManager.getChildByName("pick").active=!0;break}"Cylinder"!=i.collider.node.name&&"outline"!=i.collider.node.name||null==this.gameManager.currentDroppedObject||(console.log("raycast hit the DropZone node !"),u(this.gameManager.currentDroppedObject).to(.1,{worldPosition:new p(0,5,0)}).call((function(){t.gameManager.currentDroppedObject.getComponent(g).enabled=!0,t.gameManager.currentDroppedObject.getComponent(y).enabled=!0,t.gameManager.isLeftOccupied=!1})).start())}else console.log("raycast does not hit the target node !")},i.onTouchMove=function(e){var t=e.touch;if(this.cameraCom.screenPointToRay(t.getLocationX(),t.getLocationY(),this._ray),h.instance.raycast(this._ray)&&null!=this.selectedNode)for(var n=h.instance.raycastResults,o=0;o<n.length;o++){var a=n[o];if(a.collider.node.name==this.selectedNode.name){this.selectedNode.setWorldPosition(new p(a.hitPoint.x,10,a.hitPoint.z));break}}else console.log("raycast does not hit the target node !")},i.onTouchEnd=function(e){null!=this.selectedNode&&u(this.selectedNode).to(.1,{worldPosition:new p(0,3,-10)}).start(),this.selectedNode=null},t}(f)).prototype,"cameraCom",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(N.prototype,"audioManager",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(N.prototype,"gameManager",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=N))||M));i._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});